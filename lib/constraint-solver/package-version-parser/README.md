This is more or less copied from core Meteor - I'm not sure if there's value in
keeping it or we should convert the constraint solver code to call into semvar directly.
